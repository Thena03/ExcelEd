---
layout: base
---

<main class="flex-1 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mt-24">

  <!-- Lesson Content -->
  <article class="prose prose-green mx-auto">
    <h1 class="text-3xl font-bold text-green-800 mb-6">{{ page.title }}</h1>
    {{ content }}
  </article>

  <!-- Navigation Buttons -->
  {% assign this_folder = page.path | split: '/' | slice: 1,1 | first %}
  {% assign lessons_in_folder = site.pages 
      | where_exp: "p", "p.path contains this_folder" 
      | sort: "order"
  %}

  {% assign index = 0 %}
  {% for item in lessons_in_folder %}
    {% if item.url == page.url %}
      {% assign index = forloop.index0 %}
    {% endif %}
  {% endfor %}

  <div class="mt-12 flex flex-wrap justify-center gap-6">

    {% if index > 0 %}
      {% assign previous = lessons_in_folder[index | minus: 1] %}
      <a href="{{ previous.url | relative_url }}" 
         class="bg-green-700 text-white px-6 py-3 rounded-lg shadow hover:bg-green-600 transition">
        ← Previous Lesson
      </a>
    {% endif %}

    <a href="{{ '/lessons' | relative_url }}" 
       class="bg-green-700 text-white px-6 py-3 rounded-lg shadow hover:bg-green-600 transition">
      Back to Lessons
    </a>

    {% assign next_index = index | plus: 1 %}
    {% if next_index < lessons_in_folder.size %}
      {% assign next_item = lessons_in_folder[next_index] %}
      <a href="{{ next_item.url | relative_url }}" 
         class="bg-green-700 text-white px-6 py-3 rounded-lg shadow hover:bg-green-600 transition">
        Next Lesson →
      </a>
    {% endif %}
      <br><br>
  </div>

</main>

